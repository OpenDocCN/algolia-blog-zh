<html>
<head>
<title>Announcing the Firebase + Algolia search extension - Algolia Blog | Algolia Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">宣布Firebase + Algolia搜索扩展- Algolia博客</h1>
<blockquote>原文：<a href="https://www.algolia.com/blog/product/announcing-the-firebase-algolia-search-extension/#0001-01-01">https://www.algolia.com/blog/product/announcing-the-firebase-algolia-search-extension/#0001-01-01</a></blockquote><div><div class="css-t54cg4"><p class="translated">我们知道你为什么在这里。你想学习如何整合谷歌Firebase Firestore数据库与Algolia搜索。</p>
<p class="translated"><span> Firebase Firestore是一个NoSQL云数据库，它提供了将您的数据管理成多个集合的结构。它是可扩展的，无服务器的，它提供客户端和服务器之间的同步和离线模式。最重要的是，它非常安全，而且价格合理。</span></p>
<p class="translated"><span>然而，Firebase不支持开箱即用的搜索功能。为了解决这个问题，你需要求助于第三方应用Firebase推荐的应用实际上是</span> <a href="https://firebase.google.com/docs/firestore/solutions/search" target="_blank" rel="noopener"> <span> Algolia </span> </a> <span>。</span></p>
<p class="translated"><span>我们有一个搜索产品，可以实现快速、相关、API优先的全文搜索，并且有一个可靠的免费计划，可以轻松启动和发展您的产品。我们还为所有主要语言/平台提供了广泛的客户端库和SDK选择，并为我们的文档感到非常自豪。</span></p>
<p class="translated"><span>然而，直到今天，整合Algolia和Firebase还涉及到一个非同寻常的</span> <a href="https://effbada.hashnode.dev/how-to-import-data-from-firebase-firestore-into-algolia-using-cloud-functions-part-2-ckcrwverh000flvs10l5rfloy" target="_blank" rel="noopener"> <span>步骤</span> </a> <span>。今天，我们很兴奋地宣布Firestore &lt; &gt; Algolia扩展。</span></p>
<h1 class="translated"><a id="the-technical-stack%c2%a0" class="anchor" href="#the-technical-stack%c2%a0" aria-hidden="true"> <svg aria-hidden="true" class="octicon octicon-link" version="1.1" viewbox="0 0 16 16"> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/> </svg> </a> <span>技术堆栈</span></h1>
<p class="translated">让我提供一个高层次的集成图，说明我们试图用您的产品组合中的这两种产品实现的目标。</p>
<p class="translated"><a href="https://blog-api.algolia.com/wp-content/uploads/2021/05/image1-3.png">T32</a></p>
<p class="translated"><span>那么，我们如何用新的Firebase扩展框架实现上述架构呢？</span></p>
<h2 class="translated"><a id="the-old-school-way" class="anchor" href="#the-old-school-way" aria-hidden="true"> <svg aria-hidden="true" class="octicon octicon-link" version="1.1" viewbox="0 0 16 16"> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/> </svg> </a> <span>老派方式</span></h2>
<p class="translated"><span>有很多文章和</span> <a href="https://effbada.hashnode.dev/how-to-update-algolia-data-to-match-changes-in-firebase-firestore-with-cloud-functions-part-3-ckcrx6yv4000kkys199x6gi9v" target="_blank" rel="noopener"> <span>博文</span> </a> <span>描述了实现。其要点是使用云函数来实现监控Firestore数据库的逻辑，并将更改推送到Algolia索引。这需要在Google Cloud函数中编写代码来连接和监控Firestore数据库的变化，以及维护和支持集成。</span></p>
<h2 class="translated"><a id="the-new-kid-on-the-block" class="anchor" href="#the-new-kid-on-the-block" aria-hidden="true"> <svg aria-hidden="true" class="octicon octicon-link" version="1.1" viewbox="0 0 16 16"> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/> </svg> </a> <span>街区上的新小子</span></h2>
<p class="translated">在Fireconf 2019上，Firebase公布了Firebase扩展框架。其思想是为用户提供由扩展提供者维护和支持的仅配置的扩展。正如在Google I/O上宣布的那样，我们很自豪能够在2021年成为该框架的一部分。只需点击一个按钮或使用CLI即可安装Algolia扩展，这将启动一个提供云功能的流程，以根据开发人员提供的配置信息监控Firestore数据库的变化。让我们来看看实际情况。</p>
<h3 class="translated"><a id="prerequisites" class="anchor" href="#prerequisites" aria-hidden="true"> <svg aria-hidden="true" class="octicon octicon-link" version="1.1" viewbox="0 0 16 16"> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/> </svg> </a> <b>先决条件</b></h3>

<p class="translated"><span> 1。导航到</span> <a href="https://firebase.google.com/products/extensions/" target="_blank" rel="noopener"> <span> Firebase扩展列表页面</span> </a> <span>。</span></p>
<p class="translated"><img loading="lazy" class="aligncenter size-large wp-image-11870" src="../Images/0ad14355a0c4460dd638da715183082e.png" alt="" srcset="https://blog-api.algolia.com/wp-content/uploads/2021/05/image1-1-440x400.png 440w, https://blog-api.algolia.com/wp-content/uploads/2021/05/image1-1-196x178.png 196w, https://blog-api.algolia.com/wp-content/uploads/2021/05/image1-1-768x699.png 768w, https://blog-api.algolia.com/wp-content/uploads/2021/05/image1-1.png 1032w" sizes="(max-width: 440px) 100vw, 440px" data-original-src="https://blog-api.algolia.com/wp-content/uploads/2021/05/image1-1-440x400.png"/></p>
<p class="translated"><span>有关扩展的详细信息，请点击“查看详细信息”。</span></p>
<p class="translated"><img loading="lazy" class="aligncenter size-large wp-image-11871" src="../Images/02d6dc254b50e0c0ac6f52c153f4196e.png" alt="" srcset="https://blog-api.algolia.com/wp-content/uploads/2021/05/image2-1-463x400.png 463w, https://blog-api.algolia.com/wp-content/uploads/2021/05/image2-1-206x178.png 206w, https://blog-api.algolia.com/wp-content/uploads/2021/05/image2-1-768x664.png 768w, https://blog-api.algolia.com/wp-content/uploads/2021/05/image2-1.png 1082w" sizes="(max-width: 463px) 100vw, 463px" data-original-src="https://blog-api.algolia.com/wp-content/uploads/2021/05/image2-1-463x400.png"/></p>
<p> </p>
<p class="translated"><span> 2。单击“在控制台中安装”开始安装过程。该过程的第一步是创建或选择一个现有的Firebase项目。</span></p>
<p class="translated"><img loading="lazy" class="aligncenter size-large wp-image-11873" src="../Images/04ca3d3012d81611ee6b8fda13b9f1c1.png" alt="" srcset="https://blog-api.algolia.com/wp-content/uploads/2021/05/image4-720x387.png 720w, https://blog-api.algolia.com/wp-content/uploads/2021/05/image4-320x172.png 320w, https://blog-api.algolia.com/wp-content/uploads/2021/05/image4-768x412.png 768w, https://blog-api.algolia.com/wp-content/uploads/2021/05/image4.png 1112w" sizes="(max-width: 640px) 100vw, 640px" data-original-src="https://blog-api.algolia.com/wp-content/uploads/2021/05/image4-720x387.png"/></p>
<p class="translated"><span> 3。系统将提示您输入以下配置:</span></p>
<p class="translated"><img loading="lazy" class="aligncenter size-large wp-image-11872" src="../Images/c12973cbb38916e73f193ec7b0c56f53.png" alt="" srcset="https://blog-api.algolia.com/wp-content/uploads/2021/05/image3-1-292x400.png 292w, https://blog-api.algolia.com/wp-content/uploads/2021/05/image3-1-130x178.png 130w, https://blog-api.algolia.com/wp-content/uploads/2021/05/image3-1-768x1054.png 768w, https://blog-api.algolia.com/wp-content/uploads/2021/05/image3-1.png 850w" sizes="(max-width: 292px) 100vw, 292px" data-original-src="https://blog-api.algolia.com/wp-content/uploads/2021/05/image3-1-292x400.png"/></p>
<ol>
<li aria-level="2" class="translated"><span>收藏路径，您的Firestore数据库中收藏的路径</span></li>
<li aria-level="2" class="translated"><span>字段，要发送到Algolia进行索引的文档字段</span></li>
<li aria-level="2" class="translated"><span> Algolia应用程序ID </span></li>
<li aria-level="2" class="translated"><span>阿尔戈利亚指数名称</span></li>
<li aria-level="2" class="translated"><span> Algolia Api密钥</span></li>
<li aria-level="2" class="translated"><span>地点，GCP地区部署云功能</span></li>
</ol>
<p class="translated"><span>注意:该扩展可以多次安装，以监控不同的集合，并将更改推送到中央Algolia搜索索引或每个集合的单独索引。</span></p>
<p class="translated"><span>就是这样！现在，继续点击安装并根据您的意愿进行配置，别忘了给我们发送反馈:twitter.com/algolia.，配置愉快！</span></p>
<h2 class="translated"><a id="p-s-future-improvements" class="anchor" href="#p-s-future-improvements" aria-hidden="true"> <svg aria-hidden="true" class="octicon octicon-link" version="1.1" viewbox="0 0 16 16"> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/> </svg> </a> <span>附:未来的改进</span></h2>
<p class="translated"><span>该扩展有一些已知的限制，将在未来的版本中解决。</span></p>
<ol>
<li aria-level="1" class="translated"><span> Algolia相关性适用于小于10kb或根据您的计划设置的限制的记录。任何大于此限制的记录将被Algolia索引过程拒绝。在扩展的未来版本中，我们希望实现一个记录分割逻辑，将大记录分割成小记录用于索引。有关大型文档</span>  <span>的更多信息，请参考</span> <a href="https://www.algolia.com/doc/guides/sending-and-managing-data/send-and-update-your-data/tutorials/google-drive-algolia/#large-documents"> <span>发送和管理数据。</span></a></li>
<li aria-level="1" class="translated"><a href="https://www.algolia.com/doc/guides/sending-and-managing-data/prepare-your-data/in-depth/prepare-data-in-depth/"> <span>在将Firestore文档发送给Algolia </span> </a> <span>之前对其进行重组，以提高相关性。</span></li>
</ol>
</div></div>    
</body>
</html>