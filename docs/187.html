<html>
<head>
<title>How to ingest data from Adobe Experience Manager (AEM) in 3 ways | Algolia Blog</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何以三种方式从Adobe Experience Manager (AEM)获取数据</h1>
<blockquote>原文：<a href="https://www.algolia.com/blog/product/ingesting-data-from-adobe-experience-manager-aem-for-search-discovery/#0001-01-01">https://www.algolia.com/blog/product/ingesting-data-from-adobe-experience-manager-aem-for-search-discovery/#0001-01-01</a></blockquote><div><div class="css-t54cg4"><p class="translated">企业花费大量的时间和资源开发能够支持产品销售、提升品牌和思想领导力、教育用户或回答常见问题的内容。重要的是，他们可以组织他们的内容，为给定的角色提供最相关的信息。虽然对于营销人员和数字出版商来说，这可能最终是一个手动过程，但Algolia等更智能的搜索和发现平台可以使这变得更容易，并推动更强的参与。</p>
<p class="translated"><span> Algolia是一个API优先的解决方案，可以轻松地与单片和无头平台集成，包括Adobe广受欢迎的CMS、Adobe Experience Manager (AEM)。随着我们看到越来越多的Adobe客户在AEM上使用Algolia来管理和呈现他们的内容，我们想讨论他们连接这两个系统的三种方式:通过API、合作伙伴构建的集成和Algolia Crawler。</span></p>
<p class="translated"><span> Adobe Experience Manager拥有通过数字渠道管理的所有页面、资产和内容。此外，其他内容可以存储在外部系统中，例如Zendesk或电子商务系统，例如Adobe Commerce。通过将所有内容索引到Algolia，客户可以轻松创建统一的搜索体验，从而允许他们的客户通过一个搜索栏搜索不同类型的内容。这可能是一个大型CPG品牌的所有品牌网站，一个流媒体服务的媒体内容，或者一个设备公司的产品、手册和常见问题。在所有这些情况下，将来自AEM和其他平台的所有内容聚合并呈现到一个体验中是非常重要的。此外，所有的内容都以一种高性能的方式呈现，每次击键的结果都在几毫秒内更新。</span></p>
<p class="translated"><span> Pentair是B2C / B2B公司的一个很好的例子，它使用Algolia将AEM内容和Adobe商务产品结合在一起。他们为用户建立了一个漂亮、统一的搜索和发现体验。</span></p>
<p class="translated"><img loading="lazy" class="alignnone wp-image-14512" src="../Images/9abeedf2fcc078065607300c439f0f75.png" alt="adobe algolia pentair front end" srcset="https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-algolia-pentair-front-end-320x135.png 320w, https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-algolia-pentair-front-end-720x304.png 720w, https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-algolia-pentair-front-end-768x325.png 768w, https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-algolia-pentair-front-end-1536x649.png 1536w, https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-algolia-pentair-front-end.png 1999w" sizes="(max-width: 747px) 100vw, 747px" data-original-src="https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-algolia-pentair-front-end-320x135.png"/></p>
<h2 class="translated"><a id="how-do-we-connect-aem-with-algolia" class="anchor" href="#how-do-we-connect-aem-with-algolia" aria-hidden="true"> <svg aria-hidden="true" class="octicon octicon-link" version="1.1" viewbox="0 0 16 16"> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/> </svg> </a> <span>我们如何把AEM和Algolia联系起来？</span></h2>
<h3 class="translated"><a id="option-1-java-api-client" class="anchor" href="#option-1-java-api-client" aria-hidden="true"> <svg aria-hidden="true" class="octicon octicon-link" version="1.1" viewbox="0 0 16 16"> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/> </svg> </a> <span>选项1: Java API客户端</span></h3>
<p class="translated">作为索引数据的直接方式，Algolia提供了一个Java API。 <a href="https://www.algolia.com/developers/search-api-java/"> <span> Java API客户端</span> </a> <span>是一个开源的、生产就绪的API包装器，它从与Algolia搜索API直接交互的复杂性中抽象出来。例如，它处理网络重试策略、记录批处理和重新索引。因为AEM是一个OSGi平台，需要一个uber JAR作为依赖，所以我们提供了与这些平台兼容的</span><a href="https://www.algolia.com/doc/guides/getting-started/quick-start/tutorials/quick-start-with-the-api-client/java/?client=java#osgi-platforms-and-adobe-experience-manager-aem"><span>algoliasearch-Apache-Uber</span></a><span>。</span></p>
<p class="translated"><img loading="lazy" class="alignnone wp-image-14522" src="../Images/21013176757ee4e3a09c0aa4061fe6f9.png" alt="adobe javascript api" srcset="https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-javascript-api-287x178.png 287w, https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-javascript-api-646x400.png 646w, https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-javascript-api-768x476.png 768w, https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-javascript-api-1536x951.png 1536w, https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-javascript-api.png 1999w" sizes="(max-width: 735px) 100vw, 735px" data-original-src="https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-javascript-api-287x178.png"/></p>
<p class="translated"><span>直接使用Algolia Java API可以更灵活地满足您的业务需求。Java API客户端可能需要额外的投资和时间，但允许您根据自己的内容结构和规范进行定制。利用AEM的事件引擎将根据配置中定义的Algolia索引的内容变化提供近乎实时的索引。</span></p>
<p class="translated"><span>至于搜索体验，你有两个选择:你可以使用Algolia的API客户端(Java、JavaScript、PHP和其他八种语言)中的一种，从头开始开发定制体验；或者，您可以利用Algolia的搜索小部件及其</span> <a href="https://www.algolia.com/doc/api-reference/widgets/js/"> <span>即时搜索</span> </a> <span>库，可用在vanilla Javascript、ReactJS、AngularJS等中。Algolia的InstantSearch库调用Algolia最接近的服务器，提供了令人难以置信的快速搜索体验。InstantSearch小部件可以嵌入到AEM组件中，而不是构建自己的UI组件，发布者可以使用它在自己的网站上构建搜索体验和结果页面，从而提升网站的性能和速度。</span></p>
<h4 class="translated"><b>你为什么会选择这种方法</b></h4>
<p class="translated"><span>许多客户和SI /机构合作伙伴选择使用我们的Java API客户端和InstantSearch库在AEM和Algolia之间构建定制集成。这种内部解决方案为客户定制数据结构的方式提供了额外的灵活性。</span></p>
<h3 class="translated"><a id="" class="anchor" href="#" aria-hidden="true"> <svg aria-hidden="true" class="octicon octicon-link" version="1.1" viewbox="0 0 16 16"> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/> </svg> </a></h3>
<h3 class="translated"><a id="option-2-algolia-indexer-accelerator-for-adobe-experience-manager" class="anchor" href="#option-2-algolia-indexer-accelerator-for-adobe-experience-manager" aria-hidden="true"> <svg aria-hidden="true" class="octicon octicon-link" version="1.1" viewbox="0 0 16 16"> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/> </svg> </a> <span>选项Adobe体验管理器的Algolia索引器加速器</span></h3>
<p class="translated">为了加快开发过程，我们构建了一个加速器，利用Java API来索引来自AEM的数据。可以通过 Adobe Exchange请求该包，或者您可以在【adobe-algolia-solutions@algolia.com<span>的<a href="mailto:adobe-algolia-solutions@algolia.com">进行请求。该连接器包括配置模块、将配置分配给内容路径的方法以及触发手动重建索引的重建索引服务。</a></span></p>
<p class="translated"><img loading="lazy" class="alignnone wp-image-17298 size-large" src="../Images/ac9ce7088def13f93d30a789759e4ba5.png" alt="AEM Indexer" srcset="https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-720x366.jpg 720w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-320x163.jpg 320w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-768x391.jpg 768w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-1536x781.jpg 1536w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-2048x1042.jpg 2048w" sizes="(max-width: 640px) 100vw, 640px" data-original-src="https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-720x366.jpg"/></p>
<p class="translated"><b>配置:</b> <span>在AEM Author实例上安装连接器后，作者需要配置索引服务，导航到云服务下的“Algolia”。在那里，您可以为每个站点属性配置索引，包括要索引的字段、属性名称和发布URL。如果启用了继承，配置控制台将允许继承，以便在祖先节点中找到任何缺失的配置属性。</span></p>
<p> </p>
<p class="translated"><img loading="lazy" class="alignnone wp-image-17303 size-large" src="../Images/24399d239189c45b1004582c3cbd1139.png" alt="" srcset="https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-Config-Screenshot-720x365.png 720w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-Config-Screenshot-320x162.png 320w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-Config-Screenshot-768x389.png 768w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-Config-Screenshot-1536x778.png 1536w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-Config-Screenshot-2048x1038.png 2048w" sizes="(max-width: 640px) 100vw, 640px" data-original-src="https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-Config-Screenshot-720x365.png"/></p>
<p class="translated"><span>一旦创建了配置，现在就可以将它们分配给任何级别的站点树。</span></p>
<p class="translated"><img loading="lazy" class="alignnone size-large wp-image-17305" src="../Images/7431c13f0222020712a6ac48a394f74f.png" alt="" srcset="https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-Assignment--720x363.png 720w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-Assignment--320x161.png 320w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-Assignment--768x387.png 768w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-Assignment--1536x774.png 1536w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-Assignment--2048x1032.png 2048w" sizes="(max-width: 640px) 100vw, 640px" data-original-src="https://blog-api.algolia.com/wp-content/uploads/2022/04/Indexer-Assignment--720x363.png"/></p>
<p class="translated"><b>索引:</b> <span>索引服务然后在发布事件上索引页面、组件、属性、资产和片段。对于站点的完整索引，连接器在“部署”下提供了Algolia索引器控制台。向作者呈现路径查找器来选择开始索引的起始路径。如果选中了“树激活”复选框，索引器将对站点树进行爬网和索引。</span></p>
<p class="translated"><img loading="lazy" class="alignnone size-large wp-image-17307" src="../Images/60ba7cd718c1812ffbe9582a1283145d.png" alt="" srcset="https://blog-api.algolia.com/wp-content/uploads/2022/04/Reindexer-720x362.jpg 720w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Reindexer-320x161.jpg 320w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Reindexer-768x386.jpg 768w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Reindexer-1536x771.jpg 1536w, https://blog-api.algolia.com/wp-content/uploads/2022/04/Reindexer-2048x1029.jpg 2048w" sizes="(max-width: 640px) 100vw, 640px" data-original-src="https://blog-api.algolia.com/wp-content/uploads/2022/04/Reindexer-720x362.jpg"/></p>
<p class="translated"><span>页面/资产上的“发布”操作将在页面内容和Algolia索引中查找已配置的属性。“取消发布”事件将从Algolia索引中删除页面或资产。如果存在的话，可以在发布实例上部署一个额外的服务来检索页面的虚拟url。</span></p>
<h4 class="translated"><b>你为什么会选择这种方法</b></h4>
<p class="translated"><span>AEM Algolia连接器将加速Algolia的开发周期。只需少量投资和一些定制，这种集成将允许您索引所有内容，并随着每次更改实时更新。</span></p>
<p> </p>
<h3 class="translated"><a id="option-3-crawler" class="anchor" href="#option-3-crawler" aria-hidden="true"> <svg aria-hidden="true" class="octicon octicon-link" version="1.1" viewbox="0 0 16 16"> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/> </svg> </a> <span>选项三:爬虫</span></h3>
<p class="translated">爬虫是Algolia专有的自动网络抓取程序。当给定一组起始URL和配置好的提取定义后，爬虫会访问这些页面并从中提取内容。然后，它访问链接到这些网页的网址，并为这些网页重复这个过程。只需很少的配置，爬虫就可以通过时间表定期从你的网页中提取内容来为你填充和维护Algolia索引。</p>
<p class="translated"><img loading="lazy" class="alignnone wp-image-14520" src="../Images/1d64e373c83380ddcdeee9c481e753a6.png" alt="adobe algolia crawler" srcset="https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-crawler-306x178.png 306w, https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-crawler-688x400.png 688w, https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-crawler-768x446.png 768w, https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-crawler-1536x893.png 1536w, https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-crawler.png 1999w" sizes="(max-width: 742px) 100vw, 742px" data-original-src="https://blog-api.algolia.com/wp-content/uploads/2022/04/adobe-crawler-306x178.png"/></p>
<p class="translated"><span>爬虫可以帮助你从多个站点提取内容，格式化内容，并上传到Algolia。爬虫:</span></p>
<ul>
<li class="translated"><span>快速聚合您分发的内容</span></li>
<li class="translated"><span>自动定期更新您的汇总内容</span></li>
<li class="translated"><span>使您能够快速准确地搜索您的记录(并为您的客户提供同样的搜索体验)</span></li>
</ul>
<p class="translated"><span>对于前端搜索体验，仍然需要创建组件，如</span> <b>选项1 </b> <span>所述。使用Algolia的</span> <a href="https://www.algolia.com/doc/api-reference/widgets/js/"> <span>即时搜索库</span> </a> <span>，您可以通过将我们预先构建的搜索小部件嵌入到您的AEM组件中或使用它们来构建无头前端，从而加快您的搜索体验的交付。</span></p>
<h4 class="translated"><b>你为什么会选择这种方法</b></h4>
<p class="translated"><span>如果您的数据位于AEM内部和外部的许多地方，或者如果您没有大量的元数据来对您的内容进行分类，或者如果您的上线时间很短，您可以考虑使用爬虫作为一种有效的方法来将您的数据索引到Algolia中，并根据站点结构用类别标记每条内容。</span></p>
<h2 class="translated"><a id="conclusion" class="anchor" href="#conclusion" aria-hidden="true"> <svg aria-hidden="true" class="octicon octicon-link" version="1.1" viewbox="0 0 16 16"> <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"/> </svg> </a> <span>结论</span></h2>
<p class="translated"><span>一旦您将AEM内容编入Algolia，您将使其更容易被发现，并可以开始配置您的相关性和排名顺序，以及A/B测试，以了解如何在您的内容上获得最大的参与度。我们期待听到您关于哪种索引方法最适合您的意见，以及您希望与社区分享的任何反馈或最佳实践。在adobe-algolia-solutions@algolia.com<a href="mailto:adobe-algolia-solutions@algolia.com">联系我们</a>。</span></p>
<p class="translated"><span>查看我们“Algolia x Adobe Integrations”系列的下一篇博客，了解如何利用Algolia中的<a href="https://www.algolia.com/blog/product/leveraging-adobe-launch-events-in-algolia-for-personalization/"> Adobe发布活动</a>和<a href="https://www.algolia.com/blog/product/leveraging-adobe-analytics-for-algolia-search/"> Adobe分析指标</a>来增强您的搜索结果！</span></p>
</div></div>    
</body>
</html>